<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô DevOps</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sarabun:wght@400;600;700&display=swap');
        body {
            font-family: 'Sarabun', sans-serif;
        }
    </style>
</head>
<body class="bg-slate-900 text-white">
    <div class="min-h-screen p-4 md:p-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <div class="bg-blue-700 rounded-2xl p-8 mb-8 shadow-2xl">
                <h1 class="text-4xl font-bold mb-4">üéØ ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô DevOps</h1>
                <p class="text-blue-100 text-lg">‡∏â‡∏ö‡∏±‡∏ö‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå - ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏û‡∏£‡πâ‡∏≠‡∏° Code ‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
                <div class="mt-4 grid grid-cols-1 md:grid-cols-3 gap-4">
                    <div class="bg-blue-800 rounded-lg p-4">
                        <div class="text-3xl font-bold text-yellow-300">16</div>
                        <div class="text-sm">‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    </div>
                    <div class="bg-blue-800 rounded-lg p-4">
                        <div class="text-3xl font-bold text-green-300">~3 ‡∏ä‡∏°.</div>
                        <div class="text-sm">‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
                    </div>
                    <div class="bg-blue-800 rounded-lg p-4">
                        <div class="text-3xl font-bold text-purple-300">8</div>
                        <div class="text-sm">Services ‡∏°‡∏µ Web UI</div>
                    </div>
                </div>
            </div>

            <!-- Quick Access -->
            <div class="bg-slate-800 rounded-xl p-6 mb-8">
                <h2 class="text-xl font-bold mb-4">üåê Quick Access - ‡πÄ‡∏ß‡πá‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">3. Portainer</div>
                        <div class="text-sm text-gray-300 mt-1">https://192.168.100.10:9443</div>
                        <div class="text-xs text-gray-400 mt-1">Username: admin | Password: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å (12+ ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">4. Docker Registry + UI</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10:8082</div>
                        <div class="text-xs text-gray-400 mt-1">‡∏î‡∏π images ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î, ‡∏•‡∏ö images, ‡∏î‡∏π tags</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">5. GitLab CE</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10</div>
                        <div class="text-xs text-gray-400 mt-1">Username: root | Password: ‡∏î‡∏π‡∏à‡∏≤‡∏Å initial_root_password</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">9. Node-RED</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10:1880</div>
                        <div class="text-xs text-gray-400 mt-1">Flow-based programming, ‡∏™‡∏£‡πâ‡∏≤‡∏á flows ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å nodes</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">12. Apt-Cacher-NG</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10:3142</div>
                        <div class="text-xs text-gray-400 mt-1">Cache ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö apt packages, ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">13. Devpi (Private PyPI)</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10:3141</div>
                        <div class="text-xs text-gray-400 mt-1">Upload/Download Python packages</div>
                    </div>
                    <div class="bg-slate-700 rounded-lg p-4">
                        <div class="font-semibold text-blue-300">14. Verdaccio (NPM Registry)</div>
                        <div class="text-sm text-gray-300 mt-1">http://192.168.100.10:4873</div>
                        <div class="text-xs text-gray-400 mt-1">Upload/Download npm packages, Search packages</div>
                    </div>
                </div>
            </div>

            <!-- Sections Container -->
            <div id="sections-container" class="space-y-4"></div>

            <!-- Quick Commands -->
            <div class="mt-8 bg-slate-800 rounded-xl p-6 border border-slate-700">
                <h2 class="text-2xl font-bold mb-4">‚ö° ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢ (Quick Reference)</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="font-semibold text-blue-300 mb-3">Docker</h3>
                        <div class="bg-slate-900 rounded-lg p-4 text-sm font-mono space-y-2">
                            <div><span class="text-gray-400"># ‡∏î‡∏π containers</span></div>
                            <div class="text-green-300">docker ps -a</div>
                            <div class="mt-3"><span class="text-gray-400"># ‡∏î‡∏π logs</span></div>
                            <div class="text-green-300">docker logs -f &lt;name&gt;</div>
                            <div class="mt-3"><span class="text-gray-400"># ‡πÄ‡∏Ç‡πâ‡∏≤ container</span></div>
                            <div class="text-green-300">docker exec -it &lt;name&gt; sh</div>
                            <div class="mt-3"><span class="text-gray-400"># ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó</span></div>
                            <div class="text-green-300">docker restart &lt;name&gt;</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-blue-300 mb-3">Git</h3>
                        <div class="bg-slate-900 rounded-lg p-4 text-sm font-mono space-y-2">
                            <div><span class="text-gray-400"># ‡∏î‡∏π‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</span></div>
                            <div class="text-green-300">git status</div>
                            <div class="mt-3"><span class="text-gray-400"># Commit</span></div>
                            <div class="text-green-300">git add .</div>
                            <div class="text-green-300">git commit -m "message"</div>
                            <div class="mt-3"><span class="text-gray-400"># Push</span></div>
                            <div class="text-green-300">git push</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-blue-300 mb-3">System</h3>
                        <div class="bg-slate-900 rounded-lg p-4 text-sm font-mono space-y-2">
                            <div><span class="text-gray-400"># ‡∏î‡∏π ports</span></div>
                            <div class="text-green-300">sudo ss -tuln</div>
                            <div class="mt-3"><span class="text-gray-400"># ‡∏î‡∏π disk</span></div>
                            <div class="text-green-300">df -h</div>
                            <div class="mt-3"><span class="text-gray-400"># ‡∏î‡∏π firewall</span></div>
                            <div class="text-green-300">sudo ufw status</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-blue-300 mb-3">Troubleshooting</h3>
                        <div class="bg-slate-900 rounded-lg p-4 text-sm font-mono space-y-2">
                            <div><span class="text-gray-400"># Test network</span></div>
                            <div class="text-green-300">ping gitlab.local</div>
                            <div class="mt-3"><span class="text-gray-400"># Test DNS</span></div>
                            <div class="text-green-300">nslookup gitlab.local</div>
                            <div class="mt-3"><span class="text-gray-400"># Test HTTP</span></div>
                            <div class="text-green-300">curl http://localhost:3000</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Checklist -->
            <div class="mt-8 bg-purple-900 rounded-xl p-6 border border-purple-600">
                <h2 class="text-2xl font-bold mb-4">‚úÖ Checklist ‡∏Å‡πà‡∏≠‡∏ô‡∏ß‡∏±‡∏ô‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="space-y-2">
                        <h3 class="font-semibold text-purple-300 mb-3">Infrastructure</h3>
                        <div class="space-y-1 text-sm">
                            <div>‚òê Ubuntu Server ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
                            <div>‚òê Static IP ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß</div>
                            <div>‚òê DNS Server ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</div>
                            <div>‚òê SSH ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏∑‡πà‡∏ô</div>
                            <div>‚òê Firewall ‡πÄ‡∏õ‡∏¥‡∏î ports ‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <h3 class="font-semibold text-purple-300 mb-3">DevOps Tools</h3>
                        <div class="space-y-1 text-sm">
                            <div>‚òê Docker & Docker Compose</div>
                            <div>‚òê Portainer ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</div>
                            <div>‚òê GitLab ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</div>
                            <div>‚òê Registry ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</div>
                            <div>‚òê GitLab Runner ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏ß</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <h3 class="font-semibold text-purple-300 mb-3">Supporting Services</h3>
                        <div class="space-y-1 text-sm">
                            <div>‚òê MQTT Broker ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</div>
                            <div>‚òê Node-RED ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ</div>
                            <div>‚òê Apt-Cacher-NG</div>
                            <div>‚òê Verdaccio (NPM)</div>
                            <div>‚òê Devpi (PyPI)</div>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <h3 class="font-semibold text-purple-300 mb-3">‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏û‡∏£‡πâ‡∏≠‡∏°</h3>
                        <div class="space-y-1 text-sm">
                            <div>‚òê ‡∏ó‡∏î‡∏™‡∏≠‡∏ö CI/CD Pipeline</div>
                            <div>‚òê ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Deploy Application</div>
                            <div>‚òê ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° USB Backup</div>
                            <div>‚òê ‡∏û‡∏¥‡∏°‡∏û‡πå Cheat Sheet</div>
                            <div>‚òê ‡πÅ‡∏ï‡πà‡∏á‡∏Å‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÅ‡∏ö‡∏ö</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tips -->
            <div class="mt-8 bg-yellow-900 rounded-xl p-6 border border-yellow-600">
                <h2 class="text-2xl font-bold mb-4">üí° Tips ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
                    <div class="space-y-2">
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">1.</span>
                            <span>‡∏£‡∏≤‡∏¢‡∏á‡∏≤‡∏ô‡∏ï‡∏±‡∏ß‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">2.</span>
                            <span>‡∏≠‡πà‡∏≤‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏≥</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">3.</span>
                            <span>‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">4.</span>
                            <span>‡∏ó‡∏≥‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏Å‡πà‡∏≠‡∏ô</span>
                        </div>
                    </div>
                    <div class="space-y-2">
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">5.</span>
                            <span>‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ö‡πà‡∏≠‡∏¢‡πÜ ‡∏≠‡∏¢‡πà‡∏≤‡∏£‡∏≠‡∏ñ‡∏∂‡∏á‡∏ï‡∏≠‡∏ô‡∏ó‡πâ‡∏≤‡∏¢</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">6.</span>
                            <span>‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤ 30 ‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ô‡∏≥‡πÄ‡∏™‡∏ô‡∏≠</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">7.</span>
                            <span>‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏û‡∏π‡∏î‡∏ä‡πâ‡∏≤ ‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏£‡∏°‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à</span>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-yellow-400">8.</span>
                            <span>‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ ‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏´‡∏≤‡∏ß‡∏¥‡∏ò‡∏µ</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="mt-8 text-center text-gray-400 text-sm pb-8">
                <p>üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ô‡∏µ‡πâ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</p>
                <p class="mt-2">üí™ ‡∏ù‡∏∂‡∏Å‡∏ã‡πâ‡∏≠‡∏°‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ä‡∏≥‡∏ô‡∏≤‡∏ç ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô!</p>
                <p class="mt-4 text-lg">üèÜ Good Luck! üèÜ</p>
            </div>
        </div>
    </div>

    <script>
        const sections = [
            {
                id: '1',
                title: '1. Ubuntu Server Setup',
                time: '15 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á packages',
                        code: `sudo apt update && sudo apt upgrade -y
sudo apt install -y curl wget vim git net-tools dnsutils ca-certificates gnupg`
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Static IP (Netplan)',
                        code: `sudo nano /etc/netplan/01-netcfg.yaml

# ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
network:
  version: 2
  renderer: networkd
  ethernets:
    ens33:
      dhcp4: no
      addresses: [192.168.100.10/24]
      gateway4: 192.168.100.1
      nameservers:
        addresses: [192.168.100.10, 8.8.8.8]

# Apply
sudo netplan apply`
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Hostname ‡πÅ‡∏•‡∏∞ /etc/hosts',
                        code: `sudo hostnamectl set-hostname devops-server
sudo nano /etc/hosts

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
192.168.100.10 devops-server gitlab.local registry.local portainer.local`
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Firewall',
                        code: `sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow 22/tcp
sudo ufw enable
sudo ufw status`
                    }
                ]
            },
            {
                id: '2',
                title: '2. Docker Installation',
                time: '10 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Docker (‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏£‡πá‡∏ß)',
                        code: `curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
newgrp docker
docker --version`
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Docker Daemon',
                        code: `sudo mkdir -p /etc/docker
sudo nano /etc/docker/daemon.json

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
{
  "log-driver": "json-file",
  "log-opts": {
    "max-size": "10m",
    "max-file": "3"
  },
  "insecure-registries": ["registry.local:5000"]
}

sudo systemctl restart docker`
                    },
                    {
                        text: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö',
                        code: 'docker run hello-world'
                    }
                ]
            },
            {
                id: '3',
                title: '3. Portainer',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'https://192.168.100.10:9443',
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Portainer',
                        code: `docker volume create portainer_data

docker run -d \\
  -p 9443:9443 \\
  -p 9000:9000 \\
  --name portainer \\
  --restart=always \\
  -v /var/run/docker.sock:/var/run/docker.sock \\
  -v portainer_data:/data \\
  portainer/portainer-ce:latest

sudo ufw allow 9443/tcp
sudo ufw allow 9000/tcp`
                    },
                    {
                        text: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Portainer',
                        tips: [
                            '‚úÖ Containers: ‡∏î‡∏π/‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ containers ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î',
                            '‚úÖ Images: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ Docker images',
                            '‚úÖ Networks & Volumes: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ networks ‡πÅ‡∏•‡∏∞ volumes',
                            '‚úÖ Stacks: Deploy docker-compose.yml',
                            '‚úÖ Logs: ‡∏î‡∏π logs ‡πÅ‡∏ö‡∏ö real-time'
                        ]
                    }
                ]
            },
            {
                id: '4',
                title: '4. Docker Registry + UI',
                time: '10 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10:8082',
                steps: [
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á',
                        code: `mkdir -p ~/registry/data
cd ~/registry`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á docker-compose.yml',
                        code: `nano docker-compose.yml

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
version: '3.8'
services:
  registry:
    image: registry:2
    container_name: docker-registry
    restart: always
    ports:
      - "5000:5000"
    environment:
      REGISTRY_STORAGE_FILESYSTEM_ROOTDIRECTORY: /data
    volumes:
      - ./data:/data
    networks:
      - registry-net

  registry-ui:
    image: joxit/docker-registry-ui:latest
    container_name: registry-ui
    restart: always
    ports:
      - "8082:80"
    environment:
      REGISTRY_TITLE: "DevOps Registry"
      REGISTRY_URL: http://registry:5000
      SINGLE_REGISTRY: "true"
      DELETE_IMAGES: "true"
    depends_on:
      - registry
    networks:
      - registry-net

networks:
  registry-net:
    driver: bridge`
                    },
                    {
                        text: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                        code: `docker compose up -d
sudo ufw allow 5000/tcp
sudo ufw allow 8082/tcp`
                    },
                    {
                        text: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö Push/Pull',
                        code: `docker pull alpine
docker tag alpine localhost:5000/alpine:latest
docker push localhost:5000/alpine:latest

curl http://localhost:5000/v2/_catalog`
                    }
                ]
            },
            {
                id: '5',
                title: '5. GitLab CE',
                time: '20 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10',
                steps: [
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á',
                        code: `mkdir -p ~/gitlab
cd ~/gitlab`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á docker-compose.yml',
                        code: `nano docker-compose.yml

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
version: '3.6'
services:
  gitlab:
    image: gitlab/gitlab-ce:latest
    container_name: gitlab
    restart: always
    hostname: 'gitlab.local'
    environment:
      GITLAB_OMNIBUS_CONFIG: |
        external_url 'http://gitlab.local'
        gitlab_rails['gitlab_shell_ssh_port'] = 2224
        prometheus_monitoring['enable'] = false
        grafana['enable'] = false
        puma['worker_processes'] = 2
    ports:
      - '80:80'
      - '443:443'
      - '2224:22'
    volumes:
      - './config:/etc/gitlab'
      - './logs:/var/log/gitlab'
      - './data:/var/opt/gitlab'
    shm_size: '256m'`
                    },
                    {
                        text: '‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ 3-5 ‡∏ô‡∏≤‡∏ó‡∏µ)',
                        code: `docker compose up -d

# ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° logs
docker logs -f gitlab

# ‡∏£‡∏≠‡∏à‡∏ô‡πÄ‡∏´‡πá‡∏ô "Reconfigured!"`
                    },
                    {
                        text: '‡∏î‡∏π Root Password',
                        code: `docker exec -it gitlab grep 'Password:' /etc/gitlab/initial_root_password

# ‡πÄ‡∏õ‡∏¥‡∏î Firewall
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw allow 2224/tcp`
                    },
                    {
                        text: '‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á',
                        tips: [
                            '1. Login ‡∏î‡πâ‡∏ß‡∏¢ root ‡πÅ‡∏•‡∏∞ password ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå',
                            '2. Menu ‚Üí Edit Profile ‚Üí Password (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™)',
                            '3. Menu ‚Üí Admin ‚Üí Settings ‚Üí Sign-up restrictions (‡∏õ‡∏¥‡∏î registration)',
                            '4. ‡∏™‡∏£‡πâ‡∏≤‡∏á User ‡πÉ‡∏´‡∏°‡πà: Admin ‚Üí Users ‚Üí New user',
                            '5. ‡∏™‡∏£‡πâ‡∏≤‡∏á Project ‡∏ó‡∏î‡∏™‡∏≠‡∏ö'
                        ]
                    }
                ]
            },
            {
                id: '6',
                title: '6. Git Basic Usage',
                time: '10 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Git Config',
                        code: `git config --global user.name "Your Name"
git config --global user.email "your@email.com"`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á SSH Key (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)',
                        code: `ssh-keygen -t ed25519 -C "your@email.com"
cat ~/.ssh/id_ed25519.pub

# ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏ô GitLab:
# Profile ‚Üí SSH Keys ‚Üí Paste ‚Üí Add key`
                    },
                    {
                        text: 'Basic Workflow',
                        code: `# Clone project
git clone http://gitlab.local/username/project.git
cd project

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå
echo "# My Project" > README.md
git add .
git commit -m "Initial commit"
git push

# ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏Å‡∏±‡∏ö branches
git checkout -b feature/new-feature
# ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÑ‡∏ü‡∏•‡πå
git add .
git commit -m "Add new feature"
git push -u origin feature/new-feature

# Merge
git checkout main
git merge feature/new-feature
git push`
                    }
                ]
            },
            {
                id: '7',
                title: '7. DNS Server (Bind9)',
                time: '15 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á Bind9',
                        code: 'sudo apt install bind9 bind9utils -y'
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Zones',
                        code: `sudo nano /etc/bind/named.conf.local

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
zone "local" {
    type master;
    file "/etc/bind/db.local.zone";
};

zone "100.168.192.in-addr.arpa" {
    type master;
    file "/etc/bind/db.192.168.100";
};`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á Forward Zone',
                        code: `sudo nano /etc/bind/db.local.zone

# ‡πÄ‡∏û‡∏¥‡πà‡∏°:
$TTL    604800
@       IN      SOA     devops-server.local. admin.local. (
                              2
                         604800
                          86400
                        2419200
                         604800 )
@       IN      NS      devops-server.local.
@       IN      A       192.168.100.10

devops-server   IN      A       192.168.100.10
gitlab          IN      A       192.168.100.10
registry        IN      A       192.168.100.10
portainer       IN      A       192.168.100.10
nodered         IN      A       192.168.100.10`
                    },
                    {
                        text: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                        code: `# ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö syntax
sudo named-checkconf
sudo named-checkzone local /etc/bind/db.local.zone

# ‡∏£‡∏µ‡∏™‡∏ï‡∏≤‡∏£‡πå‡∏ó
sudo systemctl restart bind9
sudo systemctl enable bind9

# ‡πÄ‡∏õ‡∏¥‡∏î Firewall
sudo ufw allow 53/tcp
sudo ufw allow 53/udp

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
nslookup gitlab.local 192.168.100.10`
                    }
                ]
            },
            {
                id: '8',
                title: '8. HTTPS Certificate (Self-Signed)',
                time: '10 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á Root CA',
                        code: `sudo mkdir -p /etc/ssl/private /etc/ssl/certs

# ‡∏™‡∏£‡πâ‡∏≤‡∏á CA Key
openssl genrsa -out /etc/ssl/private/ca-key.pem 4096

# ‡∏™‡∏£‡πâ‡∏≤‡∏á CA Certificate
openssl req -new -x509 -days 3650 -key /etc/ssl/private/ca-key.pem \\
  -out /etc/ssl/certs/ca-cert.pem \\
  -subj "/C=TH/ST=Bangkok/L=Bangkok/O=DevOps/CN=DevOps Root CA"`
                    },
                    {
                        text: 'Install CA Certificate',
                        code: `sudo cp /etc/ssl/certs/ca-cert.pem /usr/local/share/ca-certificates/devops-ca.crt
sudo update-ca-certificates`
                    }
                ]
            },
            {
                id: '9',
                title: '9. Node-RED',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10:1880',
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Docker',
                        code: `mkdir -p ~/nodered/data
cd ~/nodered

cat > docker-compose.yml <<EOF
version: '3.8'
services:
  nodered:
    image: nodered/node-red:latest
    container_name: nodered
    restart: always
    ports:
      - "1880:1880"
    volumes:
      - ./data:/data
    environment:
      - TZ=Asia/Bangkok
EOF

docker compose up -d
sudo ufw allow 1880/tcp`
                    },
                    {
                        text: '‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Node-RED',
                        tips: [
                            '1. ‡∏•‡∏≤‡∏Å nodes ‡∏à‡∏≤‡∏Å‡∏ã‡πâ‡∏≤‡∏¢‡∏°‡∏≤‡∏ß‡∏≤‡∏á‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏•‡∏≤‡∏á',
                            '2. ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏° nodes ‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡∏≤‡∏Å‡πÄ‡∏™‡πâ‡∏ô',
                            '3. Double-click ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ node',
                            '4. ‡∏Å‡∏î Deploy (‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏ö‡∏ô) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô',
                            '5. ‡πÉ‡∏ä‡πâ Debug node ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•',
                            'Nodes ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢: mqtt in/out, function, debug, dashboard'
                        ]
                    }
                ]
            },
            {
                id: '10',
                title: '10. MQTT Broker (Mosquitto)',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå Config',
                        code: `mkdir -p ~/mqtt/config
cd ~/mqtt

cat > config/mosquitto.conf <<EOF
listener 1883
allow_anonymous true
persistence true
persistence_location /mosquitto/data/
log_dest file /mosquitto/log/mosquitto.log
EOF`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á docker-compose.yml',
                        code: `cat > docker-compose.yml <<EOF
version: '3.8'
services:
  mosquitto:
    image: eclipse-mosquitto:latest
    container_name: mqtt-broker
    restart: always
    ports:
      - "1883:1883"
      - "9001:9001"
    volumes:
      - ./config:/mosquitto/config
      - ./data:/mosquitto/data
      - ./log:/mosquitto/log
EOF

docker compose up -d
sudo ufw allow 1883/tcp`
                    },
                    {
                        text: '‡∏ó‡∏î‡∏™‡∏≠‡∏ö MQTT',
                        code: `# ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á client
sudo apt install mosquitto-clients -y

# Subscribe (Terminal 1)
mosquitto_sub -h localhost -t "test/topic"

# Publish (Terminal 2)
mosquitto_pub -h localhost -t "test/topic" -m "Hello MQTT"`
                    }
                ]
            },
            {
                id: '11',
                title: '11. ESP32 IoT Example',
                time: '15 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: 'ESP32 Arduino Code',
                        code: `#include <WiFi.h>
#include <PubSubClient.h>

const char* ssid = "YOUR_WIFI";
const char* password = "YOUR_PASSWORD";
const char* mqtt_server = "192.168.100.10";

WiFiClient espClient;
PubSubClient client(espClient);

void setup() {
  Serial.begin(115200);
  WiFi.begin(ssid, password);
  
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\\nWiFi Connected!");
  
  client.setServer(mqtt_server, 1883);
  client.setCallback(callback);
}

void loop() {
  if (!client.connected()) {
    reconnect();
  }
  client.loop();
  
  // ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤ sensor
  float temp = random(20, 35);
  float humid = random(40, 80);
  
  // ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
  String payload = "{\\"temp\\":" + String(temp) + 
                   ",\\"humid\\":" + String(humid) + "}";
  client.publish("sensor/data", payload.c_str());
  
  delay(5000);
}

void callback(char* topic, byte* payload, unsigned int length) {
  Serial.print("Message: ");
  for (int i = 0; i < length; i++) {
    Serial.print((char)payload[i]);
  }
  Serial.println();
}

void reconnect() {
  while (!client.connected()) {
    if (client.connect("ESP32Client")) {
      Serial.println("MQTT Connected");
      client.subscribe("control/#");
    } else {
      delay(5000);
    }
  }
}`
                    }
                ]
            },
            {
                id: '12',
                title: '12. Apt-Cacher-NG',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10:3142',
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Docker',
                        code: `docker run -d \\
  --name apt-cacher-ng \\
  --restart=always \\
  -p 3142:3142 \\
  -v /var/cache/apt-cacher-ng:/var/cache/apt-cacher-ng \\
  sameersbn/apt-cacher-ng:latest

sudo ufw allow 3142/tcp`
                    },
                    {
                        text: '‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Client ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Cache',
                        code: `echo 'Acquire::http::Proxy "http://192.168.100.10:3142";' | \\
  sudo tee /etc/apt/apt.conf.d/00proxy

# ‡∏ó‡∏î‡∏™‡∏≠‡∏ö
sudo apt update`
                    }
                ]
            },
            {
                id: '13',
                title: '13. Devpi (Private PyPI)',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10:3141',
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Docker',
                        code: `mkdir -p ~/devpi/data
cd ~/devpi

cat > docker-compose.yml <<EOF
version: '3.8'
services:
  devpi:
    image: muccg/devpi:latest
    container_name: devpi-server
    restart: always
    ports:
      - "3141:3141"
    volumes:
      - ./data:/data
    environment:
      - DEVPI_PASSWORD=devpi123
EOF

docker compose up -d
sudo ufw allow 3141/tcp`
                    },
                    {
                        text: '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô devpi',
                        code: `# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ pip
pip config set global.index-url http://192.168.100.10:3141/root/pypi/+simple/

# Upload package
pip install devpi-client
devpi use http://192.168.100.10:3141
devpi login root --password=devpi123
devpi upload`
                    }
                ]
            },
            {
                id: '14',
                title: '14. Verdaccio (NPM Registry)',
                time: '5 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: true,
                webUrl: 'http://192.168.100.10:4873',
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏î‡πâ‡∏ß‡∏¢ Docker',
                        code: `mkdir -p ~/verdaccio/{storage,config}
cd ~/verdaccio

cat > docker-compose.yml <<EOF
version: '3.8'
services:
  verdaccio:
    image: verdaccio/verdaccio:latest
    container_name: verdaccio
    restart: always
    ports:
      - "4873:4873"
    volumes:
      - ./storage:/verdaccio/storage
      - ./config:/verdaccio/conf
    environment:
      - VERDACCIO_PORT=4873
EOF

docker compose up -d
sudo ufw allow 4873/tcp`
                    },
                    {
                        text: '‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô verdaccio',
                        code: `# ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ npm
npm set registry http://192.168.100.10:4873

# ‡∏™‡∏£‡πâ‡∏≤‡∏á user
npm adduser --registry http://192.168.100.10:4873

# Publish package
npm publish --registry http://192.168.100.10:4873`
                    }
                ]
            },
            {
                id: '15',
                title: '15. GitLab CI/CD Pipeline',
                time: '20 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: '‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á GitLab Runner',
                        code: `docker run -d \\
  --name gitlab-runner \\
  --restart always \\
  -v /var/run/docker.sock:/var/run/docker.sock \\
  -v gitlab-runner-config:/etc/gitlab-runner \\
  gitlab/gitlab-runner:latest

# Register Runner
docker exec -it gitlab-runner gitlab-runner register

# ‡πÉ‡∏™‡πà‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:
# URL: http://gitlab.local
# Token: ‡∏î‡∏π‡∏à‡∏≤‡∏Å GitLab ‚Üí Project ‚Üí Settings ‚Üí CI/CD ‚Üí Runners
# Executor: docker
# Default image: alpine:latest`
                    },
                    {
                        text: '‡∏™‡∏£‡πâ‡∏≤‡∏á .gitlab-ci.yml',
                        code: `# ‡πÑ‡∏ü‡∏•‡πå .gitlab-ci.yml
stages:
  - build
  - test
  - deploy

variables:
  DOCKER_DRIVER: overlay2
  IMAGE_NAME: registry.local:5000/myapp

build_job:
  stage: build
  image: docker:latest
  services:
    - docker:dind
  script:
    - docker build -t $IMAGE_NAME:$CI_COMMIT_SHORT_SHA .
    - docker push $IMAGE_NAME:$CI_COMMIT_SHORT_SHA
  only:
    - main

test_job:
  stage: test
  image: node:18-alpine
  script:
    - npm ci
    - npm test
  only:
    - main

deploy_job:
  stage: deploy
  image: docker:latest
  script:
    - docker pull $IMAGE_NAME:$CI_COMMIT_SHORT_SHA
    - docker stop myapp || true
    - docker rm myapp || true
    - docker run -d --name myapp -p 3000:3000 $IMAGE_NAME:$CI_COMMIT_SHORT_SHA
  only:
    - main
  when: manual`
                    }
                ]
            },
            {
                id: '16',
                title: '16. Full Stack Application',
                time: '30 ‡∏ô‡∏≤‡∏ó‡∏µ',
                hasWeb: false,
                steps: [
                    {
                        text: 'Dockerfile - Backend (Node.js)',
                        code: `FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
EXPOSE 3000
CMD ["node", "index.js"]`
                    },
                    {
                        text: 'Dockerfile - Frontend (React)',
                        code: `# Build stage
FROM node:18-alpine AS build
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . .
RUN npm run build

# Production stage
FROM nginx:alpine
COPY --from=build /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]`
                    },
                    {
                        text: 'docker-compose.yml - Full Stack',
                        code: `version: '3.8'

services:
  db:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rootpass
      MYSQL_DATABASE: appdb
      MYSQL_USER: appuser
      MYSQL_PASSWORD: apppass
    volumes:
      - db_data:/var/lib/mysql
    networks:
      - app-net

  backend:
    build: ./backend
    environment:
      DB_HOST: db
      DB_USER: appuser
      DB_PASS: apppass
      DB_NAME: appdb
    ports:
      - "3000:3000"
    depends_on:
      - db
    networks:
      - app-net

  frontend:
    build: ./frontend
    ports:
      - "80:80"
    depends_on:
      - backend
    networks:
      - app-net

volumes:
  db_data:

networks:
  app-net:
    driver: bridge`
                    }
                ]
            }
        ];

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function toggleSection(id) {
            const content = document.getElementById('content-' + id);
            const icon = document.getElementById('icon-' + id);
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                icon.textContent = '‚ñº';
            } else {
                content.classList.add('hidden');
                icon.textContent = '‚ñ∂';
            }
        }

        function renderSections() {
            const container = document.getElementById('sections-container');
            
            sections.forEach(section => {
                const sectionDiv = document.createElement('div');
                sectionDiv.className = 'bg-slate-800 rounded-xl overflow-hidden border border-slate-700 hover:border-blue-500 transition-all';
                
                let stepsHtml = '';
                section.steps.forEach((step, idx) => {
                    let stepContent = `
                        <div class="space-y-3">
                            <div class="flex items-start gap-3">
                                <svg class="w-5 h-5 text-blue-400 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                </svg>
                                <div class="flex-1">
                                    <h4 class="font-semibold text-blue-300 mb-2">${escapeHtml(step.text)}</h4>
                    `;
                    
                    if (step.code) {
                        stepContent += `
                            <div class="bg-slate-900 rounded-lg p-4 border border-slate-600">
                                <div class="flex items-center gap-2 mb-2">
                                    <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                    <span class="text-xs text-gray-400">Commands</span>
                                </div>
                                <pre class="text-sm text-green-300 overflow-x-auto whitespace-pre-wrap font-mono">${escapeHtml(step.code)}</pre>
                            </div>
                        `;
                    }
                    
                    if (step.tips) {
                        stepContent += `
                            <div class="bg-yellow-900 border border-yellow-600 rounded-lg p-4 mt-3">
                                <div class="font-semibold text-yellow-300 mb-2 flex items-center gap-2">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
                                </div>
                                <ul class="space-y-2 text-sm text-yellow-100">
                        `;
                        step.tips.forEach(tip => {
                            stepContent += `<li class="leading-relaxed">${escapeHtml(tip)}</li>`;
                        });
                        stepContent += `
                                </ul>
                            </div>
                        `;
                    }
                    
                    stepContent += `
                                </div>
                            </div>
                        </div>
                    `;
                    
                    stepsHtml += stepContent;
                });

                let webBadge = '';
                if (section.hasWeb) {
                    webBadge = `
                        <span class="text-sm text-green-400 flex items-center gap-1">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                            </svg>
                            ‡∏°‡∏µ Web UI
                        </span>
                    `;
                }

                let webAlert = '';
                if (section.hasWeb) {
                    webAlert = `
                        <div class="bg-green-900 border border-green-600 rounded-lg p-4 mb-6">
                            <div class="flex items-start gap-3">
                                <svg class="w-5 h-5 text-green-400 mt-1 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"></path>
                                </svg>
                                <div>
                                    <div class="font-semibold text-green-300 mb-1">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Web:</div>
                                    <div class="text-green-100 font-mono text-sm">${escapeHtml(section.webUrl)}</div>
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                sectionDiv.innerHTML = `
                    <button onclick="toggleSection('${section.id}')" class="w-full p-6 flex items-center justify-between hover:bg-slate-700 transition-colors">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center font-bold">
                                ${section.id}
                            </div>
                            <div class="text-left">
                                <h3 class="text-xl font-bold">${escapeHtml(section.title)}</h3>
                                <div class="flex items-center gap-4 mt-1">
                                    <span class="text-sm text-gray-400">‚è±Ô∏è ${escapeHtml(section.time)}</span>
                                    ${webBadge}
                                </div>
                            </div>
                        </div>
                        <div>
                            <span id="icon-${section.id}" class="text-2xl">‚ñ∂</span>
                        </div>
                    </button>
                    <div id="content-${section.id}" class="hidden p-6 pt-0 space-y-6">
                        ${webAlert}
                        ${stepsHtml}
                    </div>
                `;
                
                container.appendChild(sectionDiv);
            });
        }

        // Render sections on page load
        window.addEventListener('DOMContentLoaded', renderSections);
    </script>
</body>
</html>